"use strict";function randomString(){for(var e="0123456789abcdefghiklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXTZ",n="",t=0;t<10;t++)n+=e[Math.floor(Math.random()*e.length)];return n}function generateTemplate(e,n,t){var o=document.getElementById(e).innerHTML,a=document.createElement(t||"div");return Mustache.parse(o),a.innerHTML=Mustache.render(o,n),a}function Column(e){var n=this;this.id=randomString(),this.name=e,this.element=generateTemplate("column-template",{name:this.name,id:this.id}),this.element.querySelector(".column").addEventListener("click",function(e){e.target.classList.contains("btn-delete")&&n.removeColumn(),e.target.classList.contains("add-card")&&n.addCard(new Card(prompt("Enter the name of the card")))})}function Card(e){var n=this;this.id=randomString(),this.description=e,this.element=generateTemplate("card-template",{description:this.description},"li"),this.element.querySelector(".card").addEventListener("click",function(e){e.stopPropagation(),e.target.classList.contains("btn-delete")&&n.removeCard()})}document.addEventListener("DOMContentLoaded",function(){}),Column.prototype={addCard:function(e){this.element.querySelector("ul").appendChild(e.element)},removeColumn:function(){this.element.parentNode.removeChild(this.element)}},Card.prototype={removeCard:function(){this.element.parentNode.removeChild(this.element)}};var board={name:"Kanban Board",addColumn:function(e){this.element.appendChild(e.element),initSortable(e.id)},element:document.querySelector("#board .column-container")};function initSortable(e){var n=document.getElementById(e);Sortable.create(n,{group:"kanban",sort:!0})}document.querySelector("#board .create-column").addEventListener("click",function(){var e=new Column(prompt("Enter a column name"));board.addColumn(e)});var todoColumn=new Column("To do"),doingColumn=new Column("Doing"),doneColumn=new Column("Done");board.addColumn(todoColumn),board.addColumn(doingColumn),board.addColumn(doneColumn);var card1=new Card("New task"),card2=new Card("Create kanban boards");todoColumn.addCard(card1),doingColumn.addCard(card2);