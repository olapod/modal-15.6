"use strict";document.addEventListener("DOMContentLoaded",function(){function n(){for(var e="0123456789abcdefghiklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXTZ",t="",n=0;n<10;n++)t+=e[Math.floor(Math.random()*e.length)];return t}function a(e,t,n){var a=document.getElementById(e).innerHTML,r=document.createElement(n||"div");return Mustache.parse(a),r.innerHTML=Mustache.render(a,t),r}function t(e){var t=this;this.id=n(),this.name=e,this.element=a("column-template",{name:this.name,id:this.id}),this.element.querySelector(".column").addEventListener("click",function(e){e.target.classList.contains("btn-delete")&&t.removeColumn(),e.target.classList.contains("add-card")&&t.addCard(new r(prompt("Enter the name of the card")))})}function r(e){var t=this;this.id=n(),this.description=e,this.element=a("card-template",{description:this.description},"li"),this.element.querySelector(".card").addEventListener("click",function(e){e.stopPropagation(),e.target.classList.contains("btn-delete")&&t.removeCard()})}t.prototype={addCard:function(e){this.element.querySelector("ul").appendChild(e.element)},removeColumn:function(){this.element.parentNode.removeChild(this.element)}},r.prototype={removeCard:function(){this.element.parentNode.removeChild(this.element)}};var o={name:"Kanban Board",addColumn:function(e){var t,n;this.element.appendChild(e.element),t=e.id,n=document.getElementById(t),Sortable.create(n,{group:"kanban",sort:!0})},element:document.querySelector("#board .column-container")};document.querySelector("#board .create-column").addEventListener("click",function(){var e=new t(prompt("Enter a column name"));o.addColumn(e)});var e=new t("To do"),d=new t("Doing"),i=new t("Done");o.addColumn(e),o.addColumn(d),o.addColumn(i);var c=new r("New task"),l=new r("Create kanban boards");e.addCard(c),d.addCard(l)});